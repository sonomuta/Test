　<!doctype html>
　<html>
　　<head>
　

　　　<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>

<!-- 別のURLへの遷移処理の読み込み-->
  <script src="tour.js"></script> 

<!-- A-Frame GUI A-FrameのUI用フレームワーク-->
<script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>

<!-- ボタンを押した時の挙動 -->


<script>
	window.closeDropdown = function() {
	    var mydropdown = document.getElementById("mydropdown");
            mydropdown.emit('closedropdown');
	    var myoptions = document.getElementById("myoptions");
            myoptions.emit('closedropdown');
            var myImage = document.getElementById("myImage");
            myImage.emit('closedropdown');
            var myImage2 = document.getElementById("myImage2");
            myImage2.emit('closedropdown');
            var myImage3 = document.getElementById("myImage3");
            myImage3.emit('closedropdown');
	 }
	window.openDropdown = function() {
	    var mydropdown = document.getElementById("mydropdown");
            mydropdown.emit('opendropdown');
	    var myoptions = document.getElementById("myoptions");
            myoptions.emit('opendropdown');
            var myImage = document.getElementById("myImage");
            myImage.emit('opendropdown');
            var myImage2 = document.getElementById("myImage2");
            myImage2.emit('opendropdown');
            var myImage3 = document.getElementById("myImage3");
            myImage3.emit('opendropdown');
         }
</script>

　　</head>
　　<body>
　　　<a-scene gui-env>

<!-- ボタン画像素材をキャッシュに保存-->
<a-assets>
    <img id="thumb004"  src="./image/return.png">
    <img id="thumb005"  src="./image//mountain3531360.jpg">

    <img id="thumb006"  src="./image/thumb-panel01.jpg">
</a-assets>

 <a-image width="0.3" height="0.3" rotation="-90 0 0" position="0 -2 0" src="#thumb004" same_window="link: https://sonomuta.github.io/Test/aflameTest/04/index.html"></a-image>


<!-- ポップアップウィンドウ -->
<a-entity id="dropdownContainer" position="0 0 -4">


         

          <a-entity id="myImage" geometry="primitive: plane; height: 5; width: 4.5" material="src: #thumb006"  position="0 5 -4" rotation="0 0 0" visible="false" animation__visiblein="property: visible; to: true; delay: 500; startEvents:opendropdown" animation__visibleout="property: visible; to: false; delay: 500; startEvents:closedropdown"></a-entity>


<!-- はじめに表示されているボタン -->
          <a-gui-flex-container
            flex-direction="row" justify-content="center" align-items="normal" component-padding="0.1"
            opacity="0" width="2.5" height="0.75"
            position="0 0.375 0" rotation="0 0 0"
          >
              <a-gui-icon-button
			id="mydropdown"
			height="0.75"

icon-font="fonts/fa-brands-400.ttf"
			onclick="openDropdown"
	height="0.75"
	onclick="buttonActionFunction" key-code="32"
	icon="f09b"
	icon-font="assets/fonts/fa-brands-400.ttf"
	margin="0 0 0.05 0"
			visible="true"
			animation__visibleIn="property: visible; to: false; delay: 500; startEvents:opendropdown"
			animation__visibleOut="property: visible; to: true; delay: 500; startEvents:closedropdown"
		>
		</a-gui-icon-button>
          </a-gui-flex-container>

<!-- ボタンが押されたら表示される部分-->
          <a-gui-flex-container
  		id="myoptions"
  		flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1"
  		opacity="0" width="2.5" height="0.75"
  		position="0 0 -0.15" rotation="0 0 0" scale="1 0.001 0.001"
  		visible="false"
                animation__positionIn="property: position; to: 0 0.375 0.15; dur: 1000; startEvents:opendropdown"
		animation__scaleIn="property: scale; to: 1 1 1; dur: 1000; startEvents:opendropdown"
		animation__visibleIn="property: visible; to: true; dur: 100; startEvents:opendropdown"
		animation__positionOut="property: position; to: 0 0 -0.15; dur: 1000; startEvents:closedropdown"
		animation__scaleOut="property: scale; to: 1 0.001 0.001; dur: 1000; startEvents:closedropdown"
		animation__visibleOut="property: visible; to: false; dur: 100; delay: 500; startEvents:closedropdown"
	  >

  	   <a-gui-icon-button
  		width="0.5" height="0.5"
  		onclick="closeDropdown"
           	icon="f09b"
               
  	   >
  	   </a-gui-icon-button>
 	</a-gui-flex-container>

</a-entity>









 <a-entity camera look-controls wasd-controls-enabled="false" position="0 0 0">
        <a-entity cursor="fuse: true;"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
            material="color: blue; shader: flat">
            <a-animation begin="click" easing="ease-in" attribute="scale" dur="150"
               fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
            <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1500"
               fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
        </a-entity>
      </a-entity>


   　    <a-sky src="#thumb005" rotation="0 0 0"></a-sky>
　　　</a-scene>
　　</body>
　</html>